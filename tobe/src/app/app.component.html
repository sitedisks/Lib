<div class="container">
  <div>&nbsp;&nbsp;</div>
  <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <h1 class="display-4">TOBE</h1>
    <!-- <img src="../assets/img/icons/android-chrome-192x192.png" style="width: 150px;"> -->
    <h1 class="display-4">
      <small class="text-muted">{{ time | date: 'hh:mm:ss a' }}</small></h1>

    <p class="lead">Coronavirus world live status</p>
    

    <p>Coronavirus : <span class="badge badge-warning">{{status.cases | number}}</span>
      Deaths: <span class="badge badge-danger">{{status.deaths | number}}</span>
      Recovered: <span class="badge badge-success">{{status.recovered | number}}</span>
      <!-- Updated: <span class="badge badge-info">{{status.updated | number}}</span> -->
      Active: <span class="badge badge-secondary">{{status.active | number}}</span></p>
    
    
    <div>&nbsp;</div>

    <div *ngIf="chart" style="width: 100%;">
      <canvas id="corona">{{chart}}</canvas>
    </div>
    <div>&nbsp;</div>
    <div class="alert alert-success">John Hopkins University live data updated at {{status.updated | date:'HH:mm d/MM/yyyy'}}</div>
    <!-- <button class="btn btn-outline-primary" (click)="all()">
      Refresh
    </button> -->
  </div>

  <!-- <div class="jumbotron">
    <h1 class="display-4" (click)="handleClick()">TOBE</h1>
    <h3>
      <span class="text-muted">{{ time | date: 'hh:mm:ss a' }}</span></h3>
    <p class="lead">Coronavirus world live status</p>

    <hr>

    <p>Coronavirus : <span class="badge badge-warning">{{status.cases | number}}</span>
      Deaths: <span class="badge badge-danger">{{status.deaths | number}}</span>
      Recovered: <span class="badge badge-success">{{status.recovered | number}}</span>
      Updated: <span class="badge badge-info">{{status.updated | number}}</span>
      Active: <span class="badge badge-secondary">{{status.active | number}}</span>
    </p>
    <div>&nbsp;</div>
    <div *ngIf="chart" style="width: 100%;">
      <canvas id="corona">{{chart}}</canvas>
    </div>

  </div> -->

  <div *ngIf="isLoading">
    <div class="progress">
      <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar"
        aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
    </div>
  </div>
  <div *ngIf="!isLoading" class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th scope="col" class="text-secondary">Country</th>
          <th scope="col" class="text-secondary">Cases</th>
          <th scope="col" class="text-secondary">Deaths</th>
          <th scope="col" class="text-secondary">Recoverd</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cases" (click)="countryStatus(item.country)">
          <td data-toggle="modal" data-target="#countryModal"><img [src]="item.countryInfo.flag"
              style="width: 20px;" />&nbsp;
            <h4 class="badge badge-secondary">{{item.country}}</h4>
            <button class="btn btn-sm">
              <svg class="bi bi-bar-chart-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="4" height="5" x="1" y="10" rx="1" />
                <rect width="4" height="9" x="6" y="6" rx="1" />
                <rect width="4" height="14" x="11" y="1" rx="1" />
              </svg>
            </button>
          </td>
          <td data-toggle="modal" data-target="#countryModal">
            <span class="badge badge-warning">{{item.cases | number}}</span></td>
          <td data-toggle="modal" data-target="#countryModal">
            <span class="badge badge-danger">{{item.deaths | number}}</span></td>
          <td data-toggle="modal" data-target="#countryModal">
            <span class="badge badge-success">{{item.recovered | number}}</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="countryModal" tabindex="-1" role="dialog" aria-labelledby="countryModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content" data-dismiss="modal">
        <!-- <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel"><img [src]="cStatus.countryInfo.flag"
              style="width: 40px;" />&nbsp;{{cStatus.country}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div> -->
        <div class="modal-body">

          <div class="card" style="width: 100%;">
            <img [src]="cStatus.countryInfo.flag" width="100%" />
            <div class="card-body">
              <!-- <h5 class="card-title">{{cStatus.country}}</h5> -->
              <div class="table-responsive">
                <table class="table table-striped table-sm">
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">
                        <svg class="bi bi-people-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd"
                            d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 100-6 3 3 0 000 6zm-5.784 6A2.238 2.238 0 015 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 005 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"
                            clip-rule="evenodd" />
                        </svg>
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th scope="row"><span style="color:darkorange">Today cases</span></th>
                      <td>
                        <h4><span class="badge badge-light"
                            style="color:darkorange">{{cStatus.todayCases | number}}</span></h4>
                      </td>
                    </tr>
                    <tr>
                      <th scope="row"><span style="color: firebrick;">Today deaths</span></th>
                      <td>
                        <h4><span class="badge badge-light"
                            style="color: firebrick;">{{cStatus.todayDeaths | number}}</span></h4>
                      </td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-warning">Total cases</span></th>
                      <td><span class="badge badge-warning">{{cStatus.cases | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-danger">Deaths</span></th>
                      <td><span class="badge badge-danger">{{cStatus.deaths | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-success">Recovered</span></th>
                      <td><span class="badge badge-success">{{cStatus.recovered | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-primary">Active</span></th>
                      <td><span class="badge badge-primary">{{cStatus.active | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-info">Critical</span></th>
                      <td><span class="badge badge-info">{{cStatus.critical | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-secondary">Cases per Million</span></th>
                      <td><span class="badge badge-secondary">{{cStatus.casesPerOneMillion | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row">Deaths per Million</th>
                      <td><span class="badge badge-dark">{{cStatus.deathsPerOneMillion | number}}</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>

            </div>
          </div>

        </div>
        <div class="modal-footer">
          <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
          <div>
            Updated <svg class="bi bi-clock-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
              xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M16 8A8 8 0 110 8a8 8 0 0116 0zM8 3.5a.5.5 0 00-1 0V9a.5.5 0 00.252.434l3.5 2a.5.5 0 00.496-.868L8 8.71V3.5z"
                clip-rule="evenodd" />
            </svg>{{cStatus.updated | date:'HH:mm d/MM/yyyy'}} <svg class="bi bi-geo-alt" width="1em" height="1em"
              viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M8 16s6-5.686 6-10A6 6 0 002 6c0 4.314 6 10 6 10zm0-7a3 3 0 100-6 3 3 0 000 6z"
                clip-rule="evenodd" />
            </svg>{{cStatus.country}}
          </div>

        </div>
      </div>
    </div>
  </div>


  <app-footer></app-footer>
</div>