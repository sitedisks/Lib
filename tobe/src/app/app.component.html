<div class="container">
  <div>&nbsp;&nbsp;</div>
  <div class="jumbotron">
    <h1 class="display-4" (click)="handleClick()">TOBE</h1>
    <h3>{{ time | date: 'hh:mm:ss a' }}</h3>
    <p class="lead">Coronavirus world live status</p>

    <hr>

    <p>Coronavirus : <span class="badge badge-warning">{{status.cases | number}}</span>
      Deaths: <span class="badge badge-danger">{{status.deaths | number}}</span>
      Recovered: <span class="badge badge-success">{{status.recovered | number}}</span>
      Updated: <span class="badge badge-info">{{status.updated | number}}</span>
      Active: <span class="badge badge-secondary">{{status.active | number}}</span>
    </p>

    <!-- <div class="spinner-border text-info" role="status" *ngIf="isLoading">
      <span class="sr-only">Loading...</span>
    </div> -->
    <!-- <button class="btn btn-outline-info" (click)="handleClick()" *ngIf="!isLoading">
      <svg class="bi bi-arrow-repeat" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
        xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd"
          d="M2.854 7.146a.5.5 0 00-.708 0l-2 2a.5.5 0 10.708.708L2.5 8.207l1.646 1.647a.5.5 0 00.708-.708l-2-2zm13-1a.5.5 0 00-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 00-.708.708l2 2a.5.5 0 00.708 0l2-2a.5.5 0 000-.708z"
          clip-rule="evenodd" />
        <path fill-rule="evenodd"
          d="M8 3a4.995 4.995 0 00-4.192 2.273.5.5 0 01-.837-.546A6 6 0 0114 8a.5.5 0 01-1.001 0 5 5 0 00-5-5zM2.5 7.5A.5.5 0 013 8a5 5 0 009.192 2.727.5.5 0 11.837.546A6 6 0 012 8a.5.5 0 01.501-.5z"
          clip-rule="evenodd" />
      </svg>
    </button> -->

  </div>

  <div *ngIf="isLoading">
    <div class="progress">
      <div class="progress-bar progress-bar-striped bg-info progress-bar-animated" role="progressbar"
        aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
    </div>
  </div>
  <div *ngIf="!isLoading" class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th scope="col" class="table-info text-secondary">Country</th>
          <th scope="col" class="table-warning text-secondary">Cases</th>
          <th scope="col" class="table-danger text-secondary">Deaths</th>
          <th scope="col" class="table-success text-secondary">Recoverd</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cases">
          <td><img [src]="item.countryInfo.flag" style="width: 20px;" />&nbsp;
            <h4 class="badge badge-secondary">{{item.country}}</h4>

            <button class="btn btn-sm" data-toggle="modal" data-target="#countryModal"
              (click)="countryStatus(item.country)">
              <svg class="bi bi-bar-chart-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="4" height="5" x="1" y="10" rx="1" />
                <rect width="4" height="9" x="6" y="6" rx="1" />
                <rect width="4" height="14" x="11" y="1" rx="1" />
              </svg>
            </button>

          </td>
          <td><span class="badge badge-warning">{{item.cases | number}}</span></td>
          <td><span class="badge badge-danger">{{item.deaths | number}}</span></td>
          <td><span class="badge badge-success">{{item.recovered | number}}</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="countryModal" tabindex="-1" role="dialog" aria-labelledby="countryModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <!-- <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel"><img [src]="cStatus.countryInfo.flag"
              style="width: 40px;" />&nbsp;{{cStatus.country}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div> -->
        <div class="modal-body">

          <div class="card" style="width: 100%;">
            <img [src]="cStatus.countryInfo.flag" width="100%" />
            <div class="card-body">
              <!-- <h5 class="card-title">{{cStatus.country}}</h5> -->
              <div class="table-responsive">
                <table class="table table-striped table-sm">
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">
                        <svg class="bi bi-people-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd"
                            d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 100-6 3 3 0 000 6zm-5.784 6A2.238 2.238 0 015 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 005 9c-4 0-5 3-5 4s1 1 1 1h4.216zM4.5 8a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"
                            clip-rule="evenodd" />
                        </svg>
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th scope="row"><span style="color:darkorange">Today cases</span></th>
                      <td>
                        <h4><span class="badge badge-light"
                            style="color:darkorange">{{cStatus.todayCases | number}}</span></h4>
                      </td>
                    </tr>
                    <tr>
                      <th scope="row"><span style="color: firebrick;">Today deaths</span></th>
                      <td>
                        <h4><span class="badge badge-light"
                            style="color: firebrick;">{{cStatus.todayDeaths | number}}</span></h4>
                      </td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-warning">Total cases</span></th>
                      <td><span class="badge badge-warning">{{cStatus.cases | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-danger">Deaths</span></th>
                      <td><span class="badge badge-danger">{{cStatus.deaths | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-success">Recovered</span></th>
                      <td><span class="badge badge-success">{{cStatus.recovered | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-primary">Active</span></th>
                      <td><span class="badge badge-primary">{{cStatus.active | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-info">Critical</span></th>
                      <td><span class="badge badge-info">{{cStatus.critical | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row"><span class="text-secondary">Cases per Million</span></th>
                      <td><span class="badge badge-secondary">{{cStatus.casesPerOneMillion | number}}</span></td>
                    </tr>
                    <tr>
                      <th scope="row">Deaths per Million</th>
                      <td><span class="badge badge-dark">{{cStatus.deathsPerOneMillion | number}}</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>

            </div>
          </div>

        </div>
        <div class="modal-footer">
          <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
          <div data-dismiss="modal">
            Updated <svg class="bi bi-clock-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
              xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M16 8A8 8 0 110 8a8 8 0 0116 0zM8 3.5a.5.5 0 00-1 0V9a.5.5 0 00.252.434l3.5 2a.5.5 0 00.496-.868L8 8.71V3.5z"
                clip-rule="evenodd" />
            </svg>{{cStatus.updated | date:'HH:mm d/MM/yyyy'}} <svg class="bi bi-geo-alt" width="1em" height="1em"
              viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M8 16s6-5.686 6-10A6 6 0 002 6c0 4.314 6 10 6 10zm0-7a3 3 0 100-6 3 3 0 000 6z"
                clip-rule="evenodd" />
            </svg>{{cStatus.country}}
          </div>

        </div>
      </div>
    </div>
  </div>

</div>